# VaporAuth

–ú–æ–¥—É–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è Vapor 4 —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –Ω–∞ –±–∞–∑–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

## üéØ –û–±–∑–æ—Ä

VaporAuth - —ç—Ç–æ –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è Vapor, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏–ª–∏ –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏.

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–í –∫–∞–∂–¥–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω –≥–æ—Ç–æ–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π:

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`index.html`)
- üìù **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–µ–π –∏–∑ API
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π (text, email, phone, date)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
- üîê **–í—Ö–æ–¥** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OAuth (Google)
  - –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é
  - OAuth —á–µ—Ä–µ–∑ Google —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
- üë§ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
  - Responsive layout –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  - –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
  - –ß–µ—Ç–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (success/error)

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`admin.html`)
- ‚öôÔ∏è **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –ø–æ–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π (text, email, phone, date)
- üîÑ –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ toggle switch
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–ª–µ–π
  - Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - Placeholder —Ç–µ–∫—Å—Ç—ã
- üìä –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- Fetch API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å backend
- LocalStorage –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- CSS Grid & Flexbox –¥–ª—è layout
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –≤ –¥—É—Ö–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö UI-—Ç—Ä–µ–Ω–¥–æ–≤

**–î–æ—Å—Ç—É–ø:** –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080/` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ª—é–±–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞

## üì¶ –ú–æ–¥—É–ª–∏

### VaporAuthCore
–ë–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ –∏ default —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏:
- ‚úÖ `AuthenticatableUser` - –±–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ `PasswordAuthenticatable` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –ø–∞—Ä–æ–ª—é
- ‚úÖ `TokenGenerating` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ `TokenAuthenticatable` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ `RoleAuthenticatable` - —Ä–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ `OAuthAuthenticatable` - OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ `CustomFieldsUser` - –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
- ‚úÖ `DefaultUser` - –≥–æ—Ç–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è User
- ‚úÖ `DefaultUserToken` - –≥–æ—Ç–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Token

### VaporAuthOAuth ‚úÖ
OAuth 2.0 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- ‚úÖ Google OAuth provider
- ‚úÖ Account linking
- ‚úÖ OAuth-only users (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
- ‚úÖ Multiple providers per user
- ‚úÖ SimpleOAuthService
- ‚úÖ SimpleOAuthController

### VaporAuthAdmin ‚úÖ
–ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏:
- ‚úÖ AdminAuthMiddleware - –ø—Ä–æ–≤–µ—Ä–∫–∞ admin —Ä–æ–ª–∏
- ‚úÖ RoleAuthMiddleware - –≥–∏–±–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π
- ‚úÖ CreateAdminUserMigration
- ‚úÖ AddRoleToUserMigration

### VaporAuthFields ‚úÖ
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–ª—è:
- ‚úÖ RegistrationField model
- ‚úÖ UserCustomField model
- ‚úÖ PublicFieldsController - –ø—É–±–ª–∏—á–Ω—ã–π API
- ‚úÖ AdminFieldsController - admin CRUD
- ‚úÖ Field validation patterns
- ‚úÖ Multiple field types (text, email, select, etc.)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```swift
// Package.swift
dependencies: [
    .package(url: "https://github.com/yourusername/VaporAuth.git", from: "1.0.0")
],
targets: [
    .target(
        name: "App",
        dependencies: [
            .product(name: "VaporAuth", package: "VaporAuth"), // –í—Å–µ –º–æ–¥—É–ª–∏
            // –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏:
            // .product(name: "VaporAuthCore", package: "VaporAuth"),
            // .product(name: "VaporAuthOAuth", package: "VaporAuth"),
        ]
    )
]
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Default —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π (–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)

```swift
import VaporAuthCore

// configure.swift
app.databases.use(.postgres(...), as: .psql)

// –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è default –º–æ–¥–µ–ª–µ–π
app.migrations.add(CreateUserMigration<DefaultUser>())
app.migrations.add(CreateTokenMigration<DefaultUserToken>())

try routes(app)

// routes.swift
try app.register(collection: SimpleAuthController())
```

–ì–æ—Ç–æ–≤–æ! –£ –≤–∞—Å –µ—Å—Ç—å:
- `POST /auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/login` - –ª–æ–≥–∏–Ω
- `GET /auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (protected)
- `POST /auth/logout` - –≤—ã—Ö–æ–¥ (protected)

## üîå API Endpoints

### VaporAuthCore - –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
POST   /auth/register          - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /auth/login             - –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /auth/me                - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
POST   /auth/logout            - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
```

### VaporAuthOAuth - OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
GET    /auth/google            - –ù–∞—á–∞—Ç—å OAuth flow —Å Google
GET    /auth/google/callback   - Callback –¥–ª—è Google OAuth
```

### VaporAuthFields - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è
```
GET    /registration-fields              - –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—É–±–ª–∏—á–Ω—ã–π)
POST   /auth/register-dynamic            - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
GET    /auth/me-extended                 - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

# Admin endpoints (—Ç—Ä–µ–±—É–µ—Ç—Å—è admin —Ä–æ–ª—å)
GET    /admin/registration-fields        - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
POST   /admin/registration-fields        - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ
GET    /admin/registration-fields/:id    - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ
PUT    /admin/registration-fields/:id    - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ
DELETE /admin/registration-fields/:id    - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–π User –º–æ–¥–µ–ª–∏

–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –º–æ–¥–µ–ª—å, —Ä–µ–∞–ª–∏–∑—É—é—â—É—é –Ω—É–∂–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:

```swift
import Fluent
import Vapor
import VaporAuthCore

final class User: Model, @unchecked Sendable {
    static let schema = "users"

    @ID(key: .id)
    var id: UUID?

    @Field(key: "email")
    var email: String

    @OptionalField(key: "password_hash")
    var passwordHash: String?

    @Field(key: "name")
    var name: String

    @Field(key: "role")
    var role: String

    @Timestamp(key: "created_at", on: .create)
    var createdAt: Date?

    @Children(for: \.$user)
    var tokens: [UserToken]

    init() { }
}

// Protocol conformances
extension User: AuthenticatableUser {
    var hasPassword: Bool { passwordHash != nil }
}

extension User: PasswordAuthenticatable {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç default implementation
}

extension User: TokenGenerating {
    typealias Token = UserToken

    func generateToken() throws -> UserToken {
        try .init(value: [UInt8].random(count: 16).base64, userID: self.requireID())
    }
}

extension User: RoleAuthenticatable {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç default implementation
}

extension User: Authenticatable { }
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü—Ä–æ—Ç–æ–∫–æ–ª-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:

```swift
// –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
public protocol AuthenticatableUser: Model, Authenticatable {
    var id: IDValue? { get set }
    var email: String { get set }
    var name: String { get set }
    var hasPassword: Bool { get }
}

// Password authentication
public protocol PasswordAuthenticatable: AuthenticatableUser {
    var passwordHash: String? { get set }
    func verify(password: String) throws -> Bool
}

// Token generation
public protocol TokenGenerating {
    associatedtype Token: TokenAuthenticatable
    func generateToken() throws -> Token
}
```

### Generic Controllers

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±—ã–º–∏ —Ç–∏–ø–∞–º–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:

```swift
public struct AuthController<U>: RouteCollection
    where U: PasswordAuthenticatable & TokenGenerating {

    public func boot(routes: RoutesBuilder) throws {
        let auth = routes.grouped("auth")
        auth.post("register", use: register)
        auth.post("login", use: login)
        // ...
    }
}
```

## üìñ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ VaporAuthCore - –ó–ê–í–ï–†–®–ï–ù!
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [x] Package.swift —Å 4 –º–æ–¥—É–ª—è–º–∏
- [x] –í—Å–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (Auth, Token, OAuth, Admin, CustomFields)
- [x] Default –º–æ–¥–µ–ª–∏ (DefaultUser, DefaultUserToken, DefaultOAuthProvider, UserCustomField)
- [x] SimpleAuthController (register, login, logout, me)
- [x] SimpleTokenAuthenticator middleware
- [x] DTOs (AuthDTO, UserDTO)
- [x] Generic Migrations (CreateUserMigration, CreateTokenMigration)
- [x] –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚úÖ
- [x] USAGE guide

### ‚úÖ VaporAuthOAuth - –ó–ê–í–ï–†–®–ï–ù!
- [x] DefaultOAuthProvider model
- [x] SimpleOAuthService (account linking logic)
- [x] GoogleOAuthProvider (–ø–æ–ª–Ω—ã–π OAuth 2.0 flow)
- [x] SimpleOAuthController (Google auth + callback)
- [x] OAuthDTO (response models)
- [x] Migrations (CreateOAuthProviderMigration, MakeUserPasswordOptionalMigration)
- [x] –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚úÖ

### ‚úÖ VaporAuthAdmin - –ó–ê–í–ï–†–®–ï–ù!
- [x] AdminAuthMiddleware
- [x] RoleAuthMiddleware
- [x] Migrations (AddRoleToUserMigration, CreateAdminUserMigration)
- [x] –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚úÖ

### ‚úÖ VaporAuthFields - –ó–ê–í–ï–†–®–ï–ù!
- [x] RegistrationField model
- [x] UserCustomField model (moved to Core)
- [x] PublicFieldsController
- [x] AdminFieldsController (full CRUD)
- [x] RegistrationFieldDTO
- [x] Migrations (CreateRegistrationField, CreateUserCustomField, SeedDefaultFields)
- [x] –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚úÖ

### ‚úÖ Examples - –ó–ê–í–ï–†–®–ï–ù–´!
- [x] FullStackExample (–≤—Å–µ –º–æ–¥—É–ª–∏)
- [x] MinimalAuthExample (—Ç–æ–ª—å–∫–æ Core)
- [x] OAuthOnlyExample (Core + OAuth)
- [x] README –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
- [x] Examples/README.md

### ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –ó–ê–í–ï–†–®–ï–ù!
- [x] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∏ –≤—Ö–æ–¥–æ–º
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [x] OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Google)
- [x] –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- [x] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è–º–∏
- [x] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [x] –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- [x] LocalStorage –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- [ ] –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [ ] Migration Guide (BaseVapor ‚Üí VaporAuth)

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–∞–ø–∫–µ [Examples/](Examples/):
- **[MinimalAuthExample](Examples/MinimalAuthExample/)** - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è + –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **[OAuthOnlyExample](Examples/OAuthOnlyExample/)** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è + Google OAuth + –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **[FullStackExample](Examples/FullStackExample/)** - –≤—Å–µ –º–æ–¥—É–ª–∏ + –ø–æ–ª–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é

**–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –≤–∫–ª—é—á–∞–µ—Ç:**
- ‚úÖ –ì–æ—Ç–æ–≤—ã–π backend —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏
- üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- üìù –ü–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∑–∞–ø—É—Å–∫—É

### –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)

```swift
import Vapor
import VaporAuthCore

// configure.swift
public func configure(_ app: Application) async throws {
    // Database
    app.databases.use(.postgres(...), as: .psql)

    // Migrations
    app.migrations.add(CreateUserMigration<DefaultUser>())
    app.migrations.add(CreateTokenMigration<DefaultUserToken>())

    try routes(app)
}

// routes.swift
func routes(_ app: Application) throws {
    try app.register(collection: SimpleAuthController())
}
```

### –° OAuth (10 –º–∏–Ω—É—Ç)

```swift
import VaporAuthCore
import VaporAuthOAuth

func routes(_ app: Application) throws {
    try app.register(collection: SimpleAuthController())
    try app.register(collection: SimpleOAuthController())
}
```

### Full-stack (15 –º–∏–Ω—É—Ç)

```swift
import VaporAuthCore
import VaporAuthOAuth
import VaporAuthAdmin
import VaporAuthFields

func routes(_ app: Application) throws {
    // Basic auth
    try app.register(collection: SimpleAuthController())

    // OAuth
    try app.register(collection: SimpleOAuthController())

    // Public fields
    try app.register(collection: PublicFieldsController())

    // Admin routes (protected)
    let admin = app.grouped(SimpleTokenAuthenticator())
        .grouped(AdminAuthMiddleware())
    try admin.register(collection: AdminFieldsController())
}
```

**–ó–∞–ø—É—Å–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   export GOOGLE_CLIENT_ID="your-client-id"
   export GOOGLE_CLIENT_SECRET="your-client-secret"
   export GOOGLE_CALLBACK_URL="http://localhost:8080/auth/google/callback"
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `swift run`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8080/`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (`/admin.html`):
   - –°–æ–∑–¥–∞–π—Ç–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é `CreateAdminUserMigration`
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–æ–ª—å `admin` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã! ‚úÖ

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ~~–ó–∞–≤–µ—Ä—à–∏—Ç—å VaporAuthCore~~ ‚úÖ
2. ~~–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å VaporAuthOAuth~~ ‚úÖ
3. ~~–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å VaporAuthAdmin~~ ‚úÖ
4. ~~–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å VaporAuthFields~~ ‚úÖ
5. ~~–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π~~ ‚úÖ
6. –ù–∞–ø–∏—Å–∞—Ç—å unit tests
7. –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
8. Migration guide (BaseVapor ‚Üí VaporAuth)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üîó –°—Å—ã–ª–∫–∏

- [Vapor Documentation](https://docs.vapor.codes)
- [Fluent Documentation](https://docs.vapor.codes/fluent/overview/)
- [Migration Guide](Documentation/MigrationGuide.md) (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏, –ø—Ä–∏–º–µ—Ä—ã –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤—ã! | –í–µ—Ä—Å–∏—è: 1.0.0-beta
